<div class="loan-application-container">
  <h2 class="form-title">Loan Application Form</h2>

  <form [formGroup]="loanForm" (ngSubmit)="onSubmit()" class="loan-form">
    <!-- Personal Information -->
    <div class="form-row">
      <div class="form-group">
        <label for="name">Full Name</label>
        <input type="text" id="name" formControlName="name" placeholder="Enter your full name" />
        <small *ngIf="loanForm.controls['name'].invalid && loanForm.controls['name'].touched" class="error">Full Name is required</small>
      </div>

      <div class="form-group">
        <label for="phone">Phone Number</label>
        <input type="tel" id="phone" formControlName="phone" placeholder="Enter your phone number" />
        <small *ngIf="loanForm.controls['phone'].invalid && loanForm.controls['phone'].touched" class="error">Enter a valid 10-digit phone number</small>
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" formControlName="email" placeholder="Enter your email" />
        <small *ngIf="loanForm.controls['email'].invalid && loanForm.controls['email'].touched" class="error">Enter a valid email</small>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="gender">Gender</label>
        <select id="gender" formControlName="gender">
          <option value="">Select Gender</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Other">Other</option>
        </select>
        <small *ngIf="loanForm.controls['gender'].invalid && loanForm.controls['gender'].touched" class="error">Please select a gender</small>
      </div>

      <div class="form-group">
        <label for="married">Marital Status</label>
        <select id="married" formControlName="married">
          <option value="">Select Marital Status</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
        <small *ngIf="loanForm.controls['married'].invalid && loanForm.controls['married'].touched" class="error">Please select marital status</small>
      </div>

      <div class="form-group">
        <label for="dependents">Dependents</label>
        <select id="dependents" formControlName="dependents">
          <option value="">Select Dependents</option>
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3+">3+</option>
        </select>
        <small *ngIf="loanForm.controls['dependents'].invalid && loanForm.controls['dependents'].touched" class="error">Please select dependents</small>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="education">Education</label>
        <select id="education" formControlName="education">
          <option value="">Select Education</option>
          <option value="Graduate">Graduate</option>
          <option value="Not Graduate">Not Graduate</option>
        </select>
        <small *ngIf="loanForm.controls['education'].invalid && loanForm.controls['education'].touched" class="error">Please select education</small>
      </div>

      <div class="form-group">
        <label for="selfEmployed">Self Employed</label>
        <select id="selfEmployed" formControlName="selfEmployed">
          <option value="">Select Self Employed</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
        <small *ngIf="loanForm.controls['selfEmployed'].invalid && loanForm.controls['selfEmployed'].touched" class="error">Please select self employed status</small>
      </div>

      <div class="form-group">
        <label for="applicantIncome">Applicant Income</label>
        <input type="number" id="applicantIncome" formControlName="applicantIncome" placeholder="Enter applicant income" />
        <small *ngIf="loanForm.controls['applicantIncome'].invalid && loanForm.controls['applicantIncome'].touched" class="error">Applicant Income is required</small>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="hasCoApplicant">Do you have a Co-Applicant?</label>
        <select id="hasCoApplicant" formControlName="hasCoApplicant">
          <option value="">Select Option</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
        <small *ngIf="loanForm.controls['hasCoApplicant'].invalid && loanForm.controls['hasCoApplicant'].touched" class="error">Please select an option</small>
      </div>
    </div>

    <!-- Co-Applicant Section -->
    <div class="form-row" *ngIf="loanForm.get('hasCoApplicant')?.value === 'Yes'">
      <div class="form-group">
        <label for="coApplicantName">Co-Applicant Name</label>
        <input type="text" id="coApplicantName" formControlName="coApplicantName" placeholder="Enter co-applicant name" />
        <small *ngIf="loanForm.controls['coApplicantName']?.invalid && loanForm.controls['coApplicantName']?.touched" class="error">Co-Applicant Name is required</small>
      </div>

      <div class="form-group">
        <label for="coApplicantEmploymentType">Co-Applicant Employment Type</label>
        <select id="coApplicantEmploymentType" formControlName="coApplicantEmploymentType">
          <option value="">Select Employment Type</option>
          <option value="Salaried">Salaried</option>
          <option value="Business Owner">Business Owner</option>
          <option value="Self Employed Professional">Self Employed Professional</option>
        </select>
        <small *ngIf="loanForm.controls['coApplicantEmploymentType']?.invalid && loanForm.controls['coApplicantEmploymentType']?.touched" class="error">Please select employment type</small>
      </div>

      <div class="form-group">
        <label for="coApplicantIncome">Co-Applicant Income</label>
        <input type="number" id="coApplicantIncome" formControlName="coApplicantIncome" placeholder="Enter co-applicant income" />
        <small *ngIf="loanForm.controls['coApplicantIncome']?.invalid && loanForm.controls['coApplicantIncome']?.touched" class="error">Co-Applicant Income is required</small>
      </div>
    </div>


    <!-- Loan Details -->
    <div class="form-row">
      <div class="form-group">
        <label for="loanType">Loan Type</label>
        <select id="loanType" formControlName="loanType">
          <option value="">Select Loan Type</option>
          <option value="Personal">Personal Loan</option>
          <option value="Home">Home Loan</option>
          <option value="Education">Education Loan</option>
          <option value="Business">Business Loan</option>
        </select>
        <small *ngIf="loanForm.controls['loanType'].invalid && loanForm.controls['loanType'].touched" class="error">Please select a loan type</small>
      </div>

      <div class="form-group">
        <label for="loanAmount">Loan Amount Required</label>
        <input type="number" id="loanAmount" formControlName="loanAmount" placeholder="Enter loan amount" />
        <small *ngIf="loanForm.controls['loanAmount'].invalid && loanForm.controls['loanAmount'].touched" class="error">Loan Amount is required</small>
      </div>

      <div class="form-group">
        <label for="loanTerm">Loan Tenure (in months)</label>
        <input type="number" id="loanTerm" formControlName="loanTerm" placeholder="Enter loan tenure" />
        <small *ngIf="loanForm.controls['loanTerm'].invalid && loanForm.controls['loanTerm'].touched" class="error">Loan Term is required</small>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="locationType">Residence Location Type</label>
        <select id="locationType" formControlName="locationType">
          <option value="">Select Location Type</option>
          <option value="Urban">Urban</option>
          <option value="Semi-Urban">Semi-Urban</option>
          <option value="Rural">Rural</option>
        </select>
        <small *ngIf="loanForm.controls['locationType'].invalid && loanForm.controls['locationType'].touched" class="error">Please select location type</small>
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit" [disabled]="!loanForm.valid" class="submit-btn">Apply for Loan</button>
  </form>
</div>